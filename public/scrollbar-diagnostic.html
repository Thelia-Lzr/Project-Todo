<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>滚轮诊断工具</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #f5f7fa;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .header h1 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            line-height: 1.6;
        }

        .diagnostics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .diagnostic-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .diagnostic-card h3 {
            color: #1f2937;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .diagnostic-card .status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-left: auto;
        }

        .diagnostic-card .status.ok {
            background: #d1fae5;
            color: #065f46;
        }

        .diagnostic-card .status.warning {
            background: #fef3c7;
            color: #92400e;
        }

        .diagnostic-card .status.error {
            background: #fee2e2;
            color: #991b1b;
        }

        .diagnostic-card p {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
            margin: 0;
        }

        .code-block {
            background: #f3f4f6;
            padding: 12px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 12px;
            margin-top: 10px;
            overflow-x: auto;
            color: #1f2937;
        }

        .instructions {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .instructions h2 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .instructions ol {
            list-style-position: inside;
            color: #666;
            line-height: 2;
        }

        .instructions li {
            margin-bottom: 10px;
        }

        .instructions code {
            background: #f0f4f8;
            padding: 2px 6px;
            border-radius: 3px;
            color: #d63384;
            font-family: monospace;
        }

        .test-section {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .test-section h2 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .test-box {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .test-panel {
            flex: 1;
            min-width: 300px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
        }

        .test-panel-header {
            padding: 12px 16px;
            background: #667eea;
            color: white;
            font-weight: 600;
            border-radius: 6px 6px 0 0;
        }

        .test-panel-content {
            flex: 1;
            max-height: 400px;
            overflow-y: auto;
            padding: 16px;
        }

        /* 自定义滚轮 */
        .test-panel-content::-webkit-scrollbar {
            width: 8px;
        }

        .test-panel-content::-webkit-scrollbar-track {
            background: #f3f4f6;
            border-radius: 10px;
        }

        .test-panel-content::-webkit-scrollbar-thumb {
            background: #cbd5e0;
            border-radius: 4px;
            transition: background 0.3s ease;
        }

        .test-panel-content::-webkit-scrollbar-thumb:hover {
            background: #a0aec0;
        }

        .test-item {
            padding: 8px 12px;
            margin-bottom: 8px;
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            font-size: 14px;
            color: #666;
        }

        .test-item:nth-child(even) {
            background: #f3f4f6;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .button {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .button:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .button.secondary {
            background: #6b7280;
        }

        .button.secondary:hover {
            background: #4b5563;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 6px;
        }

        .status-indicator.ok {
            background: #10b981;
        }

        .status-indicator.warning {
            background: #f59e0b;
        }

        .status-indicator.error {
            background: #ef4444;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🔧 滚轮诊断工具</h1>
            <p>
                本诊断工具帮助检查主项目中的滚轮是否正确配置和显示。
                如果主项目中没有滚轮，可以在本页面进行测试验证。
            </p>
        </div>

        <div class="diagnostics">
            <div class="diagnostic-card">
                <h3>
                    <span class="status-indicator ok"></span>
                    CSS 配置
                    <span class="status ok">✓ 已配置</span>
                </h3>
                <p>
                    所有必需的 CSS 规则已添加到样式表中：
                </p>
                <div class="code-block">
.todo-list-section { flex: 1; overflow-y: auto; }
.chat-messages { flex: 1; overflow-y: auto; }
::-webkit-scrollbar { width: 8px; }
                </div>
            </div>

            <div class="diagnostic-card">
                <h3>
                    <span class="status-indicator ok"></span>
                    布局结构
                    <span class="status ok">✓ 已设置</span>
                </h3>
                <p>
                    主容器使用 Flexbox，高度固定为 90vh：
                </p>
                <div class="code-block">
.main-wrapper {
  height: calc(100vh - 20px);
  max-height: 90vh;
  overflow: hidden;
}
                </div>
            </div>

            <div class="diagnostic-card">
                <h3>
                    <span class="status-indicator ok"></span>
                    浏览器支持
                    <span class="status ok">✓ 可用</span>
                </h3>
                <p>
                    滚轮美化在以下浏览器中可用：
                </p>
                <div class="code-block">
Chrome ✓  Firefox ✓
Safari ✓  Edge ✓
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>📝 测试滚轮效果</h2>
            <p>下面两个面板演示了滚轮在 CSS 中的效果。左侧为待办事项列表测试，右侧为聊天消息测试。</p>
            <div class="test-box">
                <div class="test-panel">
                    <div class="test-panel-header">📋 待办事项列表</div>
                    <div class="test-panel-content" id="todoList">
                        <!-- 动态生成的项目 -->
                    </div>
                </div>

                <div class="test-panel">
                    <div class="test-panel-header">💬 聊天消息</div>
                    <div class="test-panel-content" id="chatList">
                        <!-- 动态生成的项目 -->
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button class="button" onclick="addTodoItems()">+ 添加待办项（50个）</button>
                <button class="button" onclick="addChatMessages()">💬 添加聊天消息（50条）</button>
                <button class="button secondary" onclick="clearAll()">🗑️ 清空</button>
            </div>
        </div>

        <div class="instructions">
            <h2>✅ 验证步骤</h2>
            <ol>
                <li>
                    <strong>检查主项目</strong> - 访问 <code>http://localhost:3000</code>
                    并添加多个待办事项或聊天消息
                </li>
                <li>
                    <strong>观察滚轮</strong> - 当内容超出容器时，应出现 8px 宽的灰色滚轮
                </li>
                <li>
                    <strong>悬停效果</strong> - 将鼠标悬停在滚轮上，颜色应从 #cbd5e0 变为 #a0aec0
                </li>
                <li>
                    <strong>页面高度</strong> - 页面总高度应固定在约 900px，不随内容增加而拉长
                </li>
                <li>
                    <strong>响应式</strong> - 在不同浏览器窗口大小下测试（缩放浏览器窗口）
                </li>
            </ol>
        </div>

        <div class="test-section">
            <h2>🔍 故障排除</h2>
            <div class="diagnostics" style="margin-top: 15px;">
                <div class="diagnostic-card">
                    <h3>
                        <span class="status-indicator warning"></span>
                        如果没有看到滚轮
                        <span class="status warning">需要处理</span>
                    </h3>
                    <p>
                        1. 刷新浏览器（Ctrl+F5）清除缓存<br>
                        2. 检查浏览器开发者工具（F12）查看 CSS 是否加载<br>
                        3. 确保内容数量足以超出容器高度<br>
                        4. 查看是否有其他 CSS 规则覆盖了 overflow-y
                    </p>
                </div>

                <div class="diagnostic-card">
                    <h3>
                        <span class="status-indicator warning"></span>
                        如果滚轮显示但样式不对
                        <span class="status warning">需要处理</span>
                    </h3>
                    <p>
                        1. 检查浏览器是否支持 ::-webkit-scrollbar<br>
                        2. 在 Firefox 中应使用 scrollbar-width<br>
                        3. 清除浏览器缓存重新加载<br>
                        4. 尝试在隐私浏览模式下测试
                    </p>
                </div>

                <div class="diagnostic-card">
                    <h3>
                        <span class="status-indicator ok"></span>
                        一切正常的迹象
                        <span class="status ok">✓ 成功</span>
                    </h3>
                    <p>
                        ✓ 滚轮宽度为 8px<br>
                        ✓ 默认颜色为浅灰（#cbd5e0）<br>
                        ✓ 悬停时变深（#a0aec0）<br>
                        ✓ 平滑的 0.3s 过渡效果<br>
                        ✓ 页面高度固定不拉长
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function addTodoItems() {
            const container = document.getElementById('todoList');
            container.innerHTML = '';
            for (let i = 1; i <= 50; i++) {
                const item = document.createElement('div');
                item.className = 'test-item';
                item.textContent = `待办事项 ${i}: 示例任务 ${i}`;
                container.appendChild(item);
            }
            alert('✅ 已添加 50 个待办项。向下滚动查看滚轮效果！');
        }

        function addChatMessages() {
            const container = document.getElementById('chatList');
            container.innerHTML = '';
            for (let i = 1; i <= 50; i++) {
                const item = document.createElement('div');
                item.className = 'test-item';
                item.textContent = `消息 ${i}: 这是第 ${i} 条聊天消息`;
                container.appendChild(item);
            }
            alert('✅ 已添加 50 条聊天消息。向下滚动查看滚轮效果！');
        }

        function clearAll() {
            document.getElementById('todoList').innerHTML = '';
            document.getElementById('chatList').innerHTML = '';
            alert('✅ 已清空所有内容');
        }

        // 页面加载时添加初始内容
        window.addEventListener('load', () => {
            addTodoItems();
            addChatMessages();
        });
    </script>
</body>
</html>
