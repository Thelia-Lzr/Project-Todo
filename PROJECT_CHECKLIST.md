## âœ… ToList é¡¹ç›®æœ€ç»ˆæ¸…å•

### ğŸ“¦ æ ¸å¿ƒåº”ç”¨æ–‡ä»¶

```
TodoList/
â”œâ”€â”€ ğŸ“„ server.js                 # Node.js Express ä¸»æœåŠ¡å™¨
â”œâ”€â”€ ğŸ“„ auth.js                   # JWT è®¤è¯ä¸­é—´ä»¶
â”œâ”€â”€ ğŸ“„ db.js                     # SQLite3 æ•°æ®åº“åˆå§‹åŒ–
â”œâ”€â”€ ğŸ“„ package.json              # Node.js ä¾èµ–é…ç½®
â”œâ”€â”€ ğŸ“„ package-lock.json         # ä¾èµ–é”å®šæ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“ routes/                   # API è·¯ç”±æ¨¡å—
â”‚   â”œâ”€â”€ auth.js                  # è®¤è¯ç›¸å…³è·¯ç”±
â”‚   â”œâ”€â”€ todos.js                 # å¾…åŠäº‹é¡¹ CRUD
â”‚   â”œâ”€â”€ chat.js                  # èŠå¤©å†å²ç®¡ç†
â”‚   â””â”€â”€ permissions.js           # AI æƒé™ç®¡ç†
â”‚
â”œâ”€â”€ ğŸ“ middleware/               # Express ä¸­é—´ä»¶
â”‚
â”œâ”€â”€ ğŸ“ public/                   # å‰ç«¯é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html               # ä¸»é¡µé¢ HTML
â”‚   â”œâ”€â”€ style.css                # æ ·å¼è¡¨
â”‚   â””â”€â”€ script.js                # å‰ç«¯åº”ç”¨è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ backend/                  # Python Flask AI åç«¯
â”‚   â”œâ”€â”€ main.py                  # Flask åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ requirements.txt         # Python ä¾èµ–
â”‚   â”œâ”€â”€ gunicorn_config.py      # Gunicorn é…ç½®
â”‚   â””â”€â”€ ğŸ“ venv/                # Python è™šæ‹Ÿç¯å¢ƒ
â”‚
â”œâ”€â”€ ğŸ“„ database.db              # SQLite3 æ•°æ®åº“
â”œâ”€â”€ ğŸ“„ .env                     # ç¯å¢ƒå˜é‡é…ç½®
â””â”€â”€ ğŸ“„ .gitignore              # Git å¿½ç•¥æ–‡ä»¶
```

---

### ğŸ“š éƒ¨ç½²æ–‡æ¡£

| æ–‡ä»¶ | æè¿° | ç”¨é€” |
|------|------|------|
| `QUICK_START.md` | âš¡ 5åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨ | æ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹ |
| `BAOTA_DEPLOYMENT.md` | ğŸš€ å®å¡”è¯¦ç»†éƒ¨ç½² | å®å¡”é¢æ¿éƒ¨ç½² |
| `DEPLOYMENT.md` | ğŸ“‹ é€šç”¨éƒ¨ç½²æŒ‡å— | é€šç”¨éƒ¨ç½²å‚è€ƒ |
| `nginx.conf.example` | âš™ï¸ Nginx é…ç½®ç¤ºä¾‹ | åå‘ä»£ç†é…ç½® |

---

### ğŸ”§ éƒ¨ç½²è„šæœ¬

| è„šæœ¬ | å¹³å° | åŠŸèƒ½ |
|------|------|------|
| `deploy.sh` | Linux/Mac | ä¸€é”®éƒ¨ç½² |
| `deploy.bat` | Windows | ä¸€é”®éƒ¨ç½² |

---

### ğŸŒ æœåŠ¡ç«¯å£

| æœåŠ¡ | ç«¯å£ | ç”¨é€” |
|------|------|------|
| Node.js | 3000 | ä¸»åº”ç”¨ + å‰ç«¯ |
| Python | 5000 | Gemini AI åç«¯ |
| Nginx | 80/443 | åå‘ä»£ç† |

---

### ğŸ“Š æ•°æ®åº“ä¿¡æ¯

**SQLite3 æ•°æ®åº“**: `database.db`

**è¡¨ç»“æ„**:
- `users` - ç”¨æˆ·è´¦æˆ·
- `todos` - å¾…åŠäº‹é¡¹
- `ai_permissions` - AI æƒé™ç®¡ç†
- `chat_sessions` - èŠå¤©ä¼šè¯
- `chat_history` - èŠå¤©å†å²

**é¢„è®¾ç”¨æˆ·**:
| ç”¨æˆ·å | å¯†ç  | æƒé™ |
|--------|------|------|
| test | 123456 | LIMITED (60å¤©) |
| Thelia | TheliaThelia123 | UNLIMITED |

---

### ğŸš€ å¿«é€Ÿéƒ¨ç½²å‘½ä»¤

#### 1. ä¸Šä¼ æ–‡ä»¶
```bash
cd /www/wwwroot/
git clone your_repo todolist
cd todolist
```

#### 2. è¿è¡Œéƒ¨ç½²è„šæœ¬
```bash
bash deploy.sh
```

#### 3. å¯åŠ¨åº”ç”¨
```bash
pm2 start ecosystem.config.js
```

#### 4. é…ç½® Nginx
åœ¨å®å¡”é¢æ¿ç½‘ç«™é…ç½®ä¸­å‚è€ƒ `nginx.conf.example`

#### 5. å®Œæˆï¼
è®¿é—® https://yourdomain.com

---

### ğŸ“‹ API ç«¯ç‚¹åˆ—è¡¨

#### è®¤è¯ API
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/verify` - éªŒè¯ Token

#### å¾…åŠäº‹é¡¹ API
- `GET /api/todos` - è·å–æ‰€æœ‰å¾…åŠäº‹é¡¹
- `POST /api/todos` - åˆ›å»ºæ–°å¾…åŠäº‹é¡¹
- `PATCH /api/todos/:id` - æ›´æ–°å¾…åŠäº‹é¡¹
- `DELETE /api/todos/:id` - åˆ é™¤å¾…åŠäº‹é¡¹

#### AI æƒé™ API
- `GET /api/permissions/info` - è·å–æƒé™ä¿¡æ¯
- `GET /api/permissions/check` - æ£€æŸ¥æ˜¯å¦å¯ç”¨
- `POST /api/permissions/set` - è®¾ç½®æƒé™(ç®¡ç†å‘˜)

#### AI èŠå¤© API
- `POST /api/chat/session` - åˆ›å»º/è·å–ä¼šè¯
- `POST /api/chat/message` - ä¿å­˜æ¶ˆæ¯
- `GET /api/chat/history/:sessionId` - è·å–å†å²
- `GET /api/chat/sessions` - è·å–æ‰€æœ‰ä¼šè¯
- `DELETE /api/chat/session/:sessionId` - åˆ é™¤ä¼šè¯

#### Gemini API
- `POST /api/gemini/init` - åˆå§‹åŒ– Gemini
- `POST /api/gemini/chat` - å‘é€èŠå¤©

---

### ğŸ” å®‰å…¨ç‰¹æ€§

âœ… JWT è®¤è¯
âœ… å¯†ç åŠ å¯†å­˜å‚¨
âœ… CORS ä¿æŠ¤
âœ… ç”¨æˆ·æ•°æ®éš”ç¦»
âœ… SSL/HTTPS æ”¯æŒ
âœ… æƒé™ç®¡ç†
âœ… ä¼šè¯ç®¡ç†
âœ… é˜²ç«å¢™é…ç½®

---

### âš™ï¸ æ€§èƒ½ä¼˜åŒ–

âœ… Gzip å‹ç¼©
âœ… é™æ€æ–‡ä»¶ç¼“å­˜
âœ… Nginx åå‘ä»£ç†
âœ… PM2 è¿›ç¨‹ç®¡ç†
âœ… SQLite ä¼˜åŒ–
âœ… è¿æ¥æ± ç®¡ç†
âœ… æ—¥å¿—è½®è½¬

---

### ğŸ“ˆ ç›‘æ§æŒ‡æ ‡

```bash
# æŸ¥çœ‹åº”ç”¨çŠ¶æ€
pm2 status

# ç›‘æ§èµ„æºä½¿ç”¨
pm2 monit

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
pm2 logs

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
tail -f logs/out.log
tail -f backend/logs/access.log
```

---

### ğŸ†˜ å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³

| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|---------|
| 502 Bad Gateway | åç«¯æœªè¿è¡Œ | `pm2 restart all` |
| æ— æ³•è¿æ¥ | é˜²ç«å¢™/Nginx é—®é¢˜ | æ£€æŸ¥é˜²ç«å¢™å’Œ Nginx é…ç½® |
| æ•°æ®åº“é”å®š | è¿›ç¨‹å†²çª | é‡å¯åº”ç”¨ |
| å†…å­˜æº¢å‡º | åº”ç”¨æ³„æ¼ | å¢åŠ å†…å­˜é™åˆ¶ |

---

### âœ¨ éªŒè¯æ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œæ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š

- [ ] åº”ç”¨å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®
- [ ] ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] å¾…åŠäº‹é¡¹èƒ½å¤Ÿå¢åˆ æ”¹æŸ¥
- [ ] AI èŠå¤©åŠŸèƒ½å·¥ä½œ
- [ ] æƒé™æ˜¾ç¤ºæ­£ç¡®
- [ ] æ—¥å¿—æ­£å¸¸è®°å½•
- [ ] SSL è¯ä¹¦æœ‰æ•ˆ
- [ ] æ€§èƒ½ç›‘æ§å°±ä½

---

### ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹é¡ºåºæ’æŸ¥ï¼š

1. **æŸ¥çœ‹æ—¥å¿—**
   ```bash
   pm2 logs
   ```

2. **æ£€æŸ¥æœåŠ¡çŠ¶æ€**
   ```bash
   pm2 status
   lsof -i :3000
   lsof -i :5000
   ```

3. **æŸ¥çœ‹ Nginx é…ç½®**
   ```bash
   nginx -t
   tail -f /var/log/nginx/error.log
   ```

4. **é‡å¯æœåŠ¡**
   ```bash
   pm2 restart all
   systemctl restart nginx
   ```

---

### ğŸ“ æœ€åæé†’

1. **ä¿®æ”¹é»˜è®¤å¯†é’¥**: åœ¨ `.env` ä¸­ä¿®æ”¹ `JWT_SECRET`
2. **é…ç½® Gemini API**: åœ¨ `backend/.env` ä¸­è®¾ç½® API Key
3. **å®šæœŸå¤‡ä»½**: å¤‡ä»½ `database.db` æ–‡ä»¶
4. **ç›‘æ§æ—¥å¿—**: å®šæœŸæ£€æŸ¥åº”ç”¨æ—¥å¿—
5. **æ›´æ–°ä¾èµ–**: å®šæœŸæ›´æ–° npm å’Œ pip åŒ…

---

**é¡¹ç›®å·²å‡†å¤‡å¥½éƒ¨ç½²ï¼** ğŸ‰

æ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ `QUICK_START.md` æˆ– `BAOTA_DEPLOYMENT.md`
